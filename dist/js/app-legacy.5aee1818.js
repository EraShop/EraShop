(function(){"use strict";var t={6888:function(t,e,s){s(6992),s(8674),s(9601),s(7727);var n=s(144),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o=s(9669),i=s.n(o),c={mounted:function(){var t=this;this.$store.dispatch("getProducts"),i().get("https://erasmustartup.eu/kafka",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then((function(e){200===e.status?t.$store.dispatch("setKafka",!0):(t.$store.dispatch("setKafka",!1),t.$store.dispatch("setToken",void 0)),t.$store.dispatch("setLoading",!1)})).catch((function(e){t.$store.dispatch("setKafka",!1),t.$store.dispatch("setToken",void 0),t.$store.dispatch("setLoading",!1)}))}},u=c,d=s(1001),l=(0,d.Z)(u,a,r,!1,null,null,null),p=l.exports,m=s(8345),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("navigation"),t._m(0),t._m(1),s("div",{staticClass:"wrap"},[s("router-link",{attrs:{to:"/products"}},[s("button",[t._v("More")])])],1)],1)},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex"},[s("div",{staticClass:"side-image"}),s("div",{staticClass:"center-image"}),s("div",{staticClass:"side-image"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-two"},[s("article",[s("h2",[t._v(" Welcome to EraShop! ")]),s("p",[s("strong",[t._v("Internet eshop made by European students")]),t._v(' during the "Erasmus+ Musical Instruments Start-Up" project. You can expect nothing but '),s("strong",[t._v("musical instruments")]),t._v(" of all kinds here, and of course, every single one of them is handmade and created by one of the teams of students. The teams are made up of multiple students from "),s("b",[t._v("Czech Republic, Germany, France and Spain")]),t._v(", each with its own different role in the whole project. ")])])])}],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"itemDetail",params:{id:t.product.name}}}},[s("div",{staticClass:"itemBox"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://erasmustartup.eu/images/"+t.product.name+"/0.jpg"}})]),s("p",[t._v(t._s(t.product.name))]),s("p",[t._v(t._s(t.product.price)+"€")]),0==t.product.quantity?s("p",{staticStyle:{color:"red"}},[t._v("Out of stock")]):t._e()])])},g=[],_={name:"itemBox",props:["product","index"]},k=_,$=(0,d.Z)(k,h,g,!1,null,"63b57af6",null),C=$.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navigation"},[s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"logo"},[t._v("EraShop")])]),s("div",{staticClass:"icons"},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),s("router-link",{attrs:{to:t.kafka?"/account":"/signIn"}},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-user"}})],1),s("router-link",{attrs:{to:"/cart"}},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-cart-shopping"}})],1),s("font-awesome-icon",{attrs:{icon:"fa-solid fa-bars-staggered"}})],1)],1)},b=[],x=(s(9254),{name:"navigation",computed:{kafka:function(){return this.$store.state.kafka},link:function(){return this.$store.state.link}}}),y=x,E=(0,d.Z)(y,w,b,!1,null,"182eaf3a",null),L=E.exports,P=s(2966),Z=s.n(P),I={name:"home",components:{navigation:L,carousel:Z(),itemBox:C},computed:{products:function(){return this.$store.state.products}}},T=I,O=(0,d.Z)(T,v,f,!1,null,"73c2bda5",null),B=O.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"products"},[s("navigation"),t._m(0),t.products&&1!=t.loading?s("div",{staticClass:"container"},[t._l(t.products,(function(t,e){return[s("itemBox",{key:t._id,attrs:{index:e,product:t}})]}))],2):s("loader")],1)},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"heading-content"},[s("h2",[t._v("Musical Instruments")]),s("p",[t._v("European students")])])}],K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader"},[s("div",{staticClass:"dot-spin"})])}],z={name:"loader"},A=z,N=(0,d.Z)(A,K,R,!1,null,"6d2c2bae",null),Y=N.exports,D={name:"products",components:{navigation:L,itemBox:C,loader:Y},computed:{products:function(){return this.$store.state.products},loading:function(){return this.$store.state.loading}}},M=D,q=(0,d.Z)(M,j,S,!1,null,"07c6b1b4",null),F=q.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"itemDetail"},[s("navigation"),t.product&&1!=t.loading?s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"product-stats"},[s("h1",[t._v(t._s(t.product.name))]),s("p",{staticClass:"price"},[t._v(" Price: "),s("strong",[t._v("$"+t._s(t.product.price))])]),s("p",{staticClass:"description"},[t._v("Description:")]),s("p",{staticClass:"description-data"},[t._v(t._s(t.product.description))]),s("p",{staticClass:"material"},[t._v(" Material: "),s("strong",[t._v(t._s(t.product.material))])]),s("p",{staticClass:"origin"},[t._v(" Country of origin: "),s("strong",[t._v(t._s(t.product.origin))])]),0==t.product.quantity?s("p",{staticStyle:{color:"red"}},[t._v("Out of stock")]):t._e(),s("div",{staticClass:"button-box"},[s("button",{attrs:{disabled:0==t.product.quantity},on:{click:function(e){return t.addToCart()}}},[t._v(" Add to cart ")])])])]):s("loader")],1)},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product"},[s("img",{attrs:{src:"https://d1aeri3ty3izns.cloudfront.net/media/23/235459/600/preview_4.jpg",alt:""}})])}],H=s(6198),W=(s(5666),s(8309),{name:"itemDetail",components:{navigation:L,loader:Y},methods:{addToCart:function(){var t=this;return(0,H.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.$store.state.token),console.log(t.$store.state.product.name),i().post("https://erasmustartup.eu/user/cart/add",{itemName:t.$store.state.product.name},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:case"end":return e.stop()}}),e)})))()}},computed:{product:function(){return this.$store.state.product},loading:function(){return this.$store.state.loading}},mounted:function(){this.$store.dispatch("getProduct",this.$route.params.id)}}),J=W,Q=(0,d.Z)(J,U,G,!1,null,"5faf67e3",null),V=Q.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signin"},[s("navigation"),1!=t.kafka?s("div",{staticClass:"container"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("div",{staticClass:"main"},[s("h1",[t._v("Sign in")]),s("p",[t._v("Username/mail")]),s("label",{staticClass:"username",attrs:{for:"username"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("p",[t._v("Password")]),s("label",{attrs:{for:"password"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("p",{style:{color:t.color}},[t._v(t._s(t.message))]),t._m(0)])])]):s("div",{staticClass:"signedIn"},[s("p",[t._v("You're already signed in!")]),s("div",{staticClass:"account"},[s("p",[t._v("Check out your ")]),s("router-link",{attrs:{to:"/account"}},[t._v("account")]),s("p",[t._v("!")])],1)])],1)},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-one"},[s("input",{staticClass:"submit",attrs:{type:"submit",value:"Login"}})])}],et={name:"signin",components:{navigation:L},data:function(){return{username:"",password:"",message:"",color:""}},computed:{kafka:function(){return this.$store.state.kafka}},methods:{login:function(){var t=this;return(0,H.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("setLoading",!0),e.next=3,i().post("https://erasmustartup.eu/login",{username:t.username,password:t.password}).then((function(e){200===e.status&&(t.$store.dispatch("setToken",e.data),t.$store.commit("setKafka",!0),t.$router.push("/account"))})).catch((function(e){t.$store.dispatch("setLoading",!1),t.color="red",console.log(e),t.message=e.response.data,t.$store.commit("setKafka",!1),t.$store.commit("setToken",void 0)}));case 3:case"end":return e.stop()}}),e)})))()}}},st=et,nt=(0,d.Z)(st,X,tt,!1,null,"43653444",null),at=nt.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("navigation"),1==this.$store.state.kafka?s("div",{staticClass:"logged"},[this.cart!=[]?s("div",{staticClass:"container"},[s("h1",[t._v("Cart")]),s("div",{staticClass:"cartBox"},[t._l(this.cart,(function(e){return[s("div",{key:e._id,staticClass:"cartProduct"},[s("p",[t._v(t._s(e.name))]),s("div",{staticClass:"line"}),s("p",[t._v(t._s(e.quantity))]),s("div",{staticClass:"line"}),s("p",[t._v(t._s(e.price)+"€")]),s("button",{on:{click:function(s){return t.removeItem(e.name)}}},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"}})],1)])]})),s("button",{on:{click:function(e){return t.purchase()}}},[t._v("Purchase")])],2)]):s("div",{staticClass:"empty"},[s("p",[t._v("Your cart is empty!")]),s("div",{staticClass:"shopHere"},[s("p",[t._v("You can shop ")]),s("router-link",{attrs:{to:"/products"}},[t._v("here")]),s("p",[t._v("!")])],1)])]):s("div",{staticClass:"notLogged"},[s("p",[t._v("You need to be signed in to view your cart!")]),s("div",{staticClass:"wrap"},[s("p",[t._v("Sign in ")]),s("router-link",{attrs:{to:"/signIn"}},[t._v("here")]),s("p",[t._v("!")])],1)])],1)},ot=[],it={name:"cart",components:{navigation:L},data:function(){return{cart:void 0,cartLoading:!1,cartError:void 0}},mounted:function(){var t=this;i().get("/user/cart/data",{headers:{Authorization:"Bearer ".concat(this.$store.state.token)}}).then((function(e){200===e.status&&(t.cart=e.data,t.cartLoading=!1,console.log(t.cart))})).catch((function(e){t.cartError=e.response.data}))},methods:{removeItem:function(t){var e=this;this.$store.dispatch("setLoading",!0),i().post("https://erasmustartup.eu/user/cart/remove",{itemName:t},{headers:{Authorization:"Bearer ".concat(this.$store.state.token)}}).then((function(t){200===t.status&&e.$store.dispatch("setLoading",!1)})).catch((function(t){e.$store.dispatch("setLoading",!1),e.cartError=t.response.data}))},purchase:function(){var t=this;this.$store.dispatch("setLoading",!0),i().post("http://erasmustartup.eu/user/purchase",{},{headers:{Authorization:"Bearer ".concat(this.$store.state.token)}}).then((function(e){200===e.status&&(t.$store.dispatch("setLoading",!1),t.$store.dispatch("cart",[]))})).catch((function(e){t.$store.dispatch("setLoading",!1),t.cartError=e.response.data}))}}},ct=it,ut=(0,d.Z)(ct,rt,ot,!1,null,"3840c67d",null),dt=ut.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account"},[s("navigation"),s("div",{staticClass:"accountwrap"},[1!=this.userLoading&&void 0!=this.user?s("div",{staticClass:"account-info"},[s("h1",[t._v("My Account")]),s("div",{staticClass:"account-box"},[s("p",[t._v("Username:")]),s("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.username))]),s("p",[t._v("Email:")]),s("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.email))]),s("p",[t._v("Ballance:")]),s("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.ballance)+" $Era")]),s("div",{staticClass:"account-out"},[s("button",{on:{click:function(e){return t.signOut()}}},[t._v("Sign out")])]),s("div",{staticClass:"line"}),this.user.ownedItems!==[]?s("div",[t._m(0),void 0!=this.user.ownedItems||""!=this.user.ownedItems||this.user.ownedItems!=[]?s("div",{staticClass:"account-owned"},[s("p",[t._v("Name:")]),t._l(this.user.ownedItems,(function(e){return s("p",{key:e.name},[t._v(" "+t._s(e.name)+" ")])}))],2):t._e()]):t._e()])]):1!=this.userLoading&&void 0!=this.userError?s("div",{staticClass:"error"},[s("p",[t._v(t._s(this.userError))])]):s("loader")],1)],1)},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-center"},[s("h2",[t._v("Owned Items")])])}],mt={name:"account",components:{navigation:L,loader:Y},data:function(){return{user:void 0,userLoading:!1,userError:void 0}},methods:{signOut:function(){this.$store.dispatch("setToken",void 0),this.$store.commit("setKafka",!1),this.$router.push({path:"/signIn"})}},mounted:function(){var t=this;this.$store.dispatch("setLoading",!0),i().get("https://erasmustartup.eu/user/data",{headers:{Authorization:"Bearer ".concat(this.$store.state.token)}}).then((function(e){200===e.status&&(t.user=e.data,t.$store.dispatch("setLoading",!1),console.log(e.data))})).catch((function(e){t.userError=e.response.data,t.$store.dispatch("setLoading",!1)}))}},vt=mt,ft=(0,d.Z)(vt,lt,pt,!1,null,"431575fc",null),ht=ft.exports;n.Z.use(m.Z);var gt=[{path:"/",name:"home",component:B},{path:"/products",name:"products",component:F},{path:"/signin",name:"signIn",component:at},{path:"/cart",name:"cart",component:dt},{path:"/account",name:"account",component:ht},{path:"/:id",name:"itemDetail",component:V}],_t=new m.Z({base:"",routes:gt}),kt=_t,$t=s(629),Ct=s(3168);n.Z.use($t.ZP);var wt=new Ct.ZP({storage:window.localStorage,reducer:function(t){return{token:t.token,kafka:t.kafka}}}),bt=new $t.ZP.Store({state:{products:void 0,product:void 0,loading:!1,searchItemList:!1,nav:!1,kafka:!1,token:void 0},getters:{},mutations:{setProducts:function(t,e){t.products=e},setProduct:function(t,e){t.product=e},setKafka:function(t,e){t.kafka=e},setProductLoading:function(t,e){t.productLoading=e},setNav:function(t){t.nav=!t.nav},setToken:function(t,e){t.token=e}},actions:{getProducts:function(t){return(0,H.Z)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s("setProductLoading",!0),e.next=4,i().get("https://erasmustartup.eu/stock/data").then((function(t){s("setProducts",t.data),setTimeout((function(){s("setProductLoading",!1)}),500)}));case 4:case"end":return e.stop()}}),e)})))()},getProduct:function(t,e){return(0,H.Z)(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,n("setProductLoading",!0),s.next=4,i().get("https://erasmustartup.eu/stock/".concat(e)).then((function(t){n("setProduct",t.data),""===t.data||0===t.data.length?(n("setProductLoading",!1),router.push({name:"pageNotFound"})):(document.title=t.data.name,setTimeout((function(){n("setProductLoading",!1)}),500))}),(function(t){console.log(t)}));case 4:case"end":return s.stop()}}),s)})))()},setKafka:function(t,e){var s=t.commit;s("setKafka",e)},setToken:function(t,e){var s=t.commit;s("setToken",e)},setLoading:function(t,e){var s=t.commit;s("setProductLoading",e)}},modules:{},plugins:[wt.plugin]}),xt=s(8947),yt=s(7810),Et=s(1436);n.Z.config.productionTip=!1,xt.vI.add(Et.Y$T,Et.Ljc,Et.yYj,Et.ILF,Et.g82),n.Z.component("font-awesome-icon",yt.GN),new n.Z({router:kt,store:bt,render:function(t){return t(p)}}).$mount("#app")}},e={};function s(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,n,a,r){if(!n){var o=1/0;for(d=0;d<t.length;d++){n=t[d][0],a=t[d][1],r=t[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[c])}))?n.splice(c--,1):(i=!1,r<o&&(o=r));if(i){t.splice(d--,1);var u=a();void 0!==u&&(e=u)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,a,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,o=n[0],i=n[1],c=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var d=c(s)}for(e&&e(n);u<o.length;u++)r=o[u],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},n=self["webpackChunkerashop"]=self["webpackChunkerashop"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(6888)}));n=s.O(n)})();
//# sourceMappingURL=app-legacy.5aee1818.js.map