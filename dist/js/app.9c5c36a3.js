(function(){"use strict";var t={733:function(t,s,e){var a=e(144),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],i=e(669),n=e.n(i),c={async created(){this.$store.dispatch("getProducts"),await n().get("https://erasmustartup.eu/kafka",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then((t=>{200===t.status?this.$store.dispatch("setKafka",!0):(this.$store.dispatch("setKafka",!1),this.$store.dispatch("setToken",void 0)),this.$store.dispatch("setLoading",!1)})).catch((t=>{this.$store.dispatch("setKafka",!1),this.$store.dispatch("setToken",void 0),this.$store.dispatch("setLoading",!1)}))}},u=c,d=e(1),l=(0,d.Z)(u,o,r,!1,null,null,null),p=l.exports,h=e(345),m=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("navigation"),t._m(0),t._m(1),e("div",{staticClass:"wrap"},[e("router-link",{attrs:{to:"/products"}},[e("button",[t._v("More")])])],1)],1)},v=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"flex"},[e("div",{staticClass:"side-image"}),e("div",{staticClass:"center-image"}),e("div",{staticClass:"side-image"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"flex-two"},[e("article",[e("h2",[t._v(" Welcome to EraShop! ")]),e("p",[e("strong",[t._v("Internet eshop made by European students")]),t._v(' during the "Erasmus+ Musical Instruments Start-Up" project. You can expect nothing but '),e("strong",[t._v("musical instruments")]),t._v(" of all kinds here, and of course, every single one of them is handmade and created by one of the teams of students. The teams are made up of multiple students from "),e("b",[t._v("Czech Republic, Germany, France and Spain")]),t._v(", each with its own different role in the whole project. ")])])])}],g=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"itemDetail",params:{id:t.product.name}}}},[e("div",{staticClass:"itemBox"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:"https://erasmustartup.eu/images/"+t.product.name+"/0.jpg"}})]),e("p",[t._v(t._s(t.product.name))]),e("p",[t._v(t._s(t.product.price)+"€")]),0==t.product.quantity?e("p",{staticStyle:{color:"red"}},[t._v("Out of stock")]):t._e()])])},f=[],_={name:"itemBox",props:["product","index"]},k=_,$=(0,d.Z)(k,g,f,!1,null,"5fc70830",null),C=$.exports,w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"navigation"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"logo"},[t._v("EraShop")])]),e("div",{staticClass:"icons"},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),e("router-link",{attrs:{to:t.kafka?"/account":"/signIn"}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-user"}})],1),e("router-link",{attrs:{to:"/cart"}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-cart-shopping"}})],1),e("font-awesome-icon",{attrs:{icon:"fa-solid fa-bars-staggered"}})],1)],1)},y=[],L={name:"navigation",computed:{kafka(){return this.$store.state.kafka},link(){return this.$store.state.link}}},b=L,x=(0,d.Z)(b,w,y,!1,null,"182eaf3a",null),E=x.exports,P=e(966),Z=e.n(P),I={name:"home",components:{navigation:E,carousel:Z(),itemBox:C},computed:{products(){return this.$store.state.products}}},T=I,O=(0,d.Z)(T,m,v,!1,null,"640870fe",null),B=O.exports,j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"products"},[e("navigation"),t._m(0),t.products&&1!=t.loading?e("div",{staticClass:"container"},[t._l(t.products,(function(t,s){return[e("itemBox",{key:t._id,attrs:{index:s,product:t}})]}))],2):e("loader")],1)},S=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"heading-content"},[e("h2",[t._v("Musical Instruments")]),e("p",[t._v("European students")])])}],z=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"loader"},[e("div",{staticClass:"dot-spin"})])}],K={name:"loader"},N=K,Y=(0,d.Z)(N,z,A,!1,null,"6d2c2bae",null),D=Y.exports,M={name:"products",components:{navigation:E,itemBox:C,loader:D},computed:{products(){return this.$store.state.products},loading(){return this.$store.state.loading}}},q=M,F=(0,d.Z)(q,j,S,!1,null,"35977597",null),U=F.exports,G=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"itemDetail"},[e("navigation"),t.product&&1!=t.loading?e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"product-stats"},[e("h1",[t._v(t._s(t.product.name))]),e("p",{staticClass:"price"},[t._v(" Price: "),e("strong",[t._v("$"+t._s(t.product.price))])]),e("p",{staticClass:"description"},[t._v("Description:")]),e("p",{staticClass:"description-data"},[t._v(t._s(t.product.description))]),e("p",{staticClass:"material"},[t._v(" Material: "),e("strong",[t._v(t._s(t.product.material))])]),e("p",{staticClass:"origin"},[t._v(" Country of origin: "),e("strong",[t._v(t._s(t.product.origin))])]),0==t.product.quantity?e("p",{staticStyle:{color:"red"}},[t._v("Out of stock")]):t._e(),e("div",{staticClass:"button-box"},[e("button",{attrs:{disabled:0==t.product.quantity},on:{click:function(s){return t.addToCart()}}},[t._v(" Add to cart ")])])])]):e("loader")],1)},H=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"product"},[e("img",{attrs:{src:"https://d1aeri3ty3izns.cloudfront.net/media/23/235459/600/preview_4.jpg",alt:""}})])}],R={name:"itemDetail",components:{navigation:E,loader:D},methods:{async addToCart(){console.log(this.$store.state.token),console.log(this.$store.state.product.name),await n().post("https://erasmustartup.eu/user/cart/add",{itemName:this.$store.state.product.name},{headers:{Authorization:`Bearer ${this.$store.state.token}`}})}},computed:{product(){return this.$store.state.product},loading(){return this.$store.state.loading}},mounted(){this.$store.dispatch("getProduct",this.$route.params.id)}},W=R,J=(0,d.Z)(W,G,H,!1,null,"527755ce",null),Q=J.exports,V=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"signin"},[e("navigation"),1==this.$store.state.loader?e("loader"):1!=t.kafka?e("div",{staticClass:"container"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"main"},[e("h1",[t._v("Sign in")]),e("p",[t._v("Username/mail")]),e("label",{staticClass:"username",attrs:{for:"username"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",id:"username"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}}),e("p",[t._v("Password")]),e("label",{attrs:{for:"password"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),e("p",{style:{color:t.color}},[t._v(t._s(t.message))]),e("div",{staticClass:"flex-one"},[e("input",{staticClass:"submit",attrs:{type:"submit",value:"Login"}})])])])]):e("div",{staticClass:"signedIn"},[e("p",[t._v("You're already signed in!")]),e("div",{staticClass:"account"},[e("p",[t._v("Check out your ")]),e("router-link",{attrs:{to:"/account"}},[t._v("account")]),e("p",[t._v("!")])],1)])],1)},X=[],tt={name:"signin",components:{navigation:E,loader:D},data(){return{username:"",password:"",message:"",color:""}},computed:{kafka(){return this.$store.state.kafka}},methods:{async login(){this.$store.dispatch("setLoading",!0),await n().post("https://erasmustartup.eu/login",{username:this.username,password:this.password}).then((t=>{200===t.status&&(this.$store.dispatch("setToken",t.data),this.$store.commit("setKafka",!0),this.$router.push("/account"))})).catch((t=>{this.$store.dispatch("setLoading",!1),this.color="red",console.log(t),this.message=t.response.data,this.$store.commit("setKafka",!1),this.$store.commit("setToken",void 0)}))}}},st=tt,et=(0,d.Z)(st,V,X,!1,null,"68cef927",null),at=et.exports,ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cart"},[e("navigation"),1==this.$store.state.kafka?e("div",{staticClass:"logged"},[1==this.cartLoading?e("loader"):this.cart!=[]||""!=this.cart||void 0!=this.cart||null!=this.cart?e("div",{staticClass:"container"},[e("h1",[t._v("Cart")]),e("div",{staticClass:"cartBox"},[t._l(this.cart,(function(s){return[e("div",{key:s._id,staticClass:"cartProduct"},[e("p",[t._v(t._s(s.name))]),e("div",{staticClass:"line"}),e("p",[t._v(t._s(s.quantity))]),e("div",{staticClass:"line"}),e("p",[t._v(t._s(s.price)+"€")]),e("button",{on:{click:function(e){return t.removeItem(s.name)}}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"}})],1)])]})),e("button",{on:{click:function(s){return t.purchase()}}},[t._v("Purchase")])],2)]):e("div",{staticClass:"empty"},[e("p",[t._v("Your cart is empty!")]),e("div",{staticClass:"shopHere"},[e("p",[t._v("You can shop ")]),e("router-link",{attrs:{to:"/products"}},[t._v("here")]),e("p",[t._v("!")])],1)])],1):e("div",{staticClass:"notLogged"},[e("p",[t._v("You need to be signed in to view your cart!")]),e("div",{staticClass:"wrap"},[e("p",[t._v("Sign in ")]),e("router-link",{attrs:{to:"/signIn"}},[t._v("here")]),e("p",[t._v("!")])],1)])],1)},rt=[],it={name:"cart",components:{navigation:E,loader:D},data(){return{cart:void 0,cartLoading:!1,cartError:void 0}},async mounted(){this.cartLoading=!0,await n().get("https://erasmustartup.eu/user/cart/data",{headers:{Authorization:`Bearer ${this.$store.state.token}`}}).then((t=>{this.cartLoading=!1,200===t.status&&(this.cartLoading=!1,this.cart=void 0,this.cartLoading=!1,this.cart=t.data,this.cartLoading=!1,console.log(this.cart),this.cartLoading=!1,console.log(this.cartLoading))})).catch((t=>{this.cartError=t.response.data,this.cartLoading=!1}))},methods:{async removeItem(t){this.cartLoading=!0,await n().post("https://erasmustartup.eu/user/cart/remove",{itemName:t},{headers:{Authorization:`Bearer ${this.$store.state.token}`}}).then((async t=>{200===t.status&&(this.$store.dispatch("setLoading",!0),await n().get("https://erasmustartup.eu/user/cart/data",{headers:{Authorization:`Bearer ${this.$store.state.token}`}}).then((t=>{200===t.status&&(this.cart=void 0,this.cart=t.data,this.cartLoading=!1,console.log(this.cart))})).catch((t=>{this.cartError=t.response.data,this.cartLoading=!1})))})).catch((t=>{this.cartError=t.response.data,this.cartLoading=!1}))},purchase(){this.$store.dispatch("setLoading",!0),n().post("https://erasmustartup.eu/user/purchase",{},{headers:{Authorization:`Bearer ${this.$store.state.token}`}}).then((t=>{200===t.status&&(this.$store.dispatch("setLoading",!1),this.$store.dispatch("cart",[]))})).catch((t=>{this.$store.dispatch("setLoading",!1),this.cartError=t.response.data}))}}},nt=it,ct=(0,d.Z)(nt,ot,rt,!1,null,"086c09aa",null),ut=ct.exports,dt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"account"},[e("navigation"),e("div",{staticClass:"accountwrap"},[1==this.$store.state.loading?e("loader"):1!=this.userLoading&&void 0!=this.user?e("div",{staticClass:"account-info"},[e("h1",[t._v("My Account")]),e("div",{staticClass:"account-box"},[e("p",[t._v("Username:")]),e("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.username))]),e("p",[t._v("Email:")]),e("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.email))]),e("p",[t._v("Ballance:")]),e("p",{staticClass:"account-parametr-stats"},[t._v(t._s(this.user.ballance)+" $Era")]),e("div",{staticClass:"account-out"},[e("button",{on:{click:function(s){return t.signOut()}}},[t._v("Sign out")])]),e("div",{staticClass:"line"}),this.user.ownedItems!==[]?e("div",[e("div",{staticClass:"account-center"},[e("h2",[t._v("Owned Items")])]),void 0!=this.user.ownedItems||""!=this.user.ownedItems||this.user.ownedItems!=[]?e("div",{staticClass:"account-owned"},[e("p",[t._v("Name:")]),t._l(this.user.ownedItems,(function(s){return e("p",{key:s.name},[t._v(" "+t._s(s.name)+" ")])}))],2):t._e()]):t._e()])]):e("div",{staticClass:"error"},[e("p",[t._v(t._s(this.userError))])])],1)],1)},lt=[],pt={name:"account",components:{navigation:E,loader:D},data(){return{user:void 0,userLoading:!1,userError:void 0}},methods:{signOut(){this.$store.dispatch("setToken",void 0),this.$store.commit("setKafka",!1),this.$router.push({path:"/signIn"})}},async mounted(){this.$store.dispatch("setLoading",!0),await n().get("https://erasmustartup.eu/user/data",{headers:{Authorization:`Bearer ${this.$store.state.token}`}}).then((t=>{200===t.status&&(this.user=t.data,this.$store.dispatch("setLoading",!1),console.log(t.data))})).catch((t=>{this.userError=t.response.data,this.$store.dispatch("setLoading",!1)}))}},ht=pt,mt=(0,d.Z)(ht,dt,lt,!1,null,"1d550110",null),vt=mt.exports;a.Z.use(h.Z);const gt=[{path:"/",name:"home",component:B},{path:"/products",name:"products",component:U},{path:"/signin",name:"signIn",component:at},{path:"/cart",name:"cart",component:ut},{path:"/account",name:"account",component:vt},{path:"/:id",name:"itemDetail",component:Q}],ft=new h.Z({base:"",routes:gt});var _t=ft,kt=e(629),$t=e(168);a.Z.use(kt.ZP);const Ct=new $t.ZP({storage:window.localStorage,reducer:t=>({token:t.token,kafka:t.kafka})});var wt=new kt.ZP.Store({state:{products:void 0,product:void 0,loading:!1,searchItemList:!1,nav:!1,kafka:!1,token:void 0},getters:{},mutations:{setProducts(t,s){t.products=s},setProduct(t,s){t.product=s},setKafka(t,s){t.kafka=s},setProductLoading(t,s){t.productLoading=s},setNav(t){t.nav=!t.nav},setToken(t,s){t.token=s}},actions:{async getProducts({commit:t}){t("setProductLoading",!0),await n().get("https://erasmustartup.eu/stock/data").then((s=>{t("setProducts",s.data),setTimeout((()=>{t("setProductLoading",!1)}),500)}))},async getProduct({commit:t},s){t("setProductLoading",!0),await n().get(`https://erasmustartup.eu/stock/${s}`).then((s=>{t("setProduct",s.data),""===s.data||0===s.data.length?(t("setProductLoading",!1),router.push({name:"pageNotFound"})):(document.title=s.data.name,setTimeout((()=>{t("setProductLoading",!1)}),500))}),(t=>{console.log(t)}))},setKafka({commit:t},s){t("setKafka",s)},setToken({commit:t},s){t("setToken",s)},setLoading({commit:t},s){t("setProductLoading",s)}},modules:{},plugins:[Ct.plugin]}),yt=e(947),Lt=e(810),bt=e(436);a.Z.config.productionTip=!1,yt.vI.add(bt.Y$T,bt.Ljc,bt.yYj,bt.ILF,bt.g82),a.Z.component("font-awesome-icon",Lt.GN),new a.Z({router:_t,store:wt,render:t=>t(p)}).$mount("#app")}},s={};function e(a){var o=s[a];if(void 0!==o)return o.exports;var r=s[a]={exports:{}};return t[a].call(r.exports,r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(s,a,o,r){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],r=t[d][2];for(var n=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(e.O).every((function(t){return e.O[t](a[c])}))?a.splice(c--,1):(n=!1,r<i&&(i=r));if(n){t.splice(d--,1);var u=o();void 0!==u&&(s=u)}}return s}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,o,r]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var o,r,i=a[0],n=a[1],c=a[2],u=0;if(i.some((function(s){return 0!==t[s]}))){for(o in n)e.o(n,o)&&(e.m[o]=n[o]);if(c)var d=c(e)}for(s&&s(a);u<i.length;u++)r=i[u],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(d)},a=self["webpackChunkerashop"]=self["webpackChunkerashop"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(733)}));a=e.O(a)})();
//# sourceMappingURL=app.9c5c36a3.js.map